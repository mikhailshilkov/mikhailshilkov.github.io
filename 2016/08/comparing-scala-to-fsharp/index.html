<!DOCTYPE html>
<html lang="en-us" prefix="og: http://ogp.me/ns#"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	
	<link rel="icon" type="image/png" href="/favicon.ico">
	
	
	<title>Comparing Scala to F# | Mikhail Shilkov</title>
	
	
	
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
	
	<link rel="stylesheet" href="/sass/main.css">

	
	
	<meta property="og:title" content="Comparing Scala to F#" />
	<meta property="og:description" content="F# and Scala are quite similar languages from 10.000 feet view. Both are
functional-first languages developed for the virtual machines where imperative
languages dominate. C# for .NET and Java for JVM are still lingua franca,
but alternatives are getting stronger." />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://mikhail.io/2016/08/comparing-scala-to-fsharp/" />

	
	
	
	
	<meta property="og:image" content="https://mikhail.io/2016/08/comparing-scala-to-fsharp/teaser.png" />
	
	


	
	
	<meta property="article:tag" content="FSharp" />
	
	<meta property="article:tag" content="Scala" />
	
	<meta property="article:tag" content="Functional Programming" />
	
	<meta property="article:tag" content="Coursera" />
	

	
	
	<meta name="twitter:card" content="summary_large_image"/>
	
	<meta name="twitter:image" content="https://mikhail.io/2016/08/comparing-scala-to-fsharp/teaser.png" />
	
	

	<meta name="twitter:title" content="Comparing Scala to F#"/>
	<meta name="twitter:description" content="F# and Scala are quite similar languages from 10.000 feet view. Both are
functional-first languages developed for the virtual machines where imperative
languages dominate. C# for .NET and Java for JVM are still lingua franca,
but alternatives are getting stronger."/>
	<meta name="twitter:creator" content="@MikhailShilkov"></meta>
</head>
<body><script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load("current", {packages:["corechart"]});
    function addChart(make) {
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            const data = new google.visualization.DataTable();

            const options = {
                height: 420,  
                chartArea: { width: '85%', height: '70%' },
                legend: 'none',
                hAxis: { minValue: 0 },
                vAxis: {},
                series: {      
                    0: { tooltip : false}
                }
            };
            const chart = make(data, options);
            options.hAxis.textStyle = options.hAxis.titleTextStyle 
                = options.vAxis.textStyle = options.vAxis.titleTextStyle = { fontName: 'Merriweather' };

            chart.draw(data, options);
        }
    }
</script>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container pr-0">
        <a class="navbar-brand" href="/">
            <img class="author-thumb" src="/images/author.jpg" alt="Mikhail Shilkov">
            <span class="text-primary">Mikhail Shilkov</span>
        </a>

        
               


        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">TOPICS</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link" href="/archives/">ARCHIVES</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link" href="/talks/">TALKS</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">ABOUT</a>
                </li>
                <li class="nav-item">
    <a class="nav-link" href="https://mikhail.io/feed/"><i class="fas fa-rss social-icon" aria-hidden="true"></i></a>
</li>

<li class="nav-item">
    <a class="nav-link" href="https://x.com/MikhailShilkov"><i class="fab fa-twitter social-icon" aria-hidden="true"></i></a>
</li>


<li class="nav-item">
    <a class="nav-link" href="https://dev.to/mikhailshilkov"><i class="fab fa-dev social-icon" aria-hidden="true"></i></a>
</li>


<li class="nav-item">
    <a class="nav-link" href="https://medium.com/@MikhailShilkov"><i class="fab fa-medium social-icon" aria-hidden="true"></i></a>
</li>


<li class="nav-item">
    <a class="nav-link" href="https://github.com/MikhailShilkov"><i class="fab fa-github social-icon" aria-hidden="true"></i></a>
</li>


<li class="nav-item">
    <a class="nav-link" href="https://www.linkedin.com/in/MikhailShilkov"><i class="fab fa-linkedin social-icon" aria-hidden="true"></i></a>
</li>

</ul>
        </div>
        
    </div>
</nav>


        <div class="container">

<div class="main-content">
    
    <div class="container">
        <div class="row">
            
            <div class="col-lg-2 pl-0"><div class="share">
    <ul>
        <li class="ml-1 mr-1" title="Say 'Thank You' for this article">
            <a href="#" onclick="heart();return false;">
                <i class="fas fa-heart" style="color: red"></i>
            </a>
            <div class="count" style="float: right; padding-left: .5em; padding-top: .25em" id="heartcount"></div>
        </li>

        <li class="ml-1 mr-1" title="Tweet this article">
            <a target="_blank"
                href="https://x.com/intent/tweet?text=Comparing%20Scala%20to%20F%23%20by%20@MikhailShilkov&url=https%3a%2f%2fmikhail.io%2f2016%2f08%2fcomparing-scala-to-fsharp%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1" title="See the responses or write a response">
            <a href="#comments">
                <i class="fas fa-comment"></i>
            </a>
        </li>
    </ul>
</div></div>
            
            <div class="col-lg-9 flex-first flex-lg-unordered">

                <div class="mainheading">
                    
                    <h1 class="posttitle">Comparing Scala to F#</h1>
                    
                    <div class="post-top-meta">
                        <div>
                            
                                
                                <span class="post-date">Published on Aug 5, 2016
                                
                            
                            
                        &nbsp;&middot;&nbsp; 8 min read</span></span>
                        </div>
                    </div>
                </div>
                
                
                

                
                <div class="article-post">
                    <p>F# and Scala are quite similar languages from 10.000 feet view. Both are
functional-first languages developed for the virtual machines where imperative
languages dominate. C# for .NET and Java for JVM are still <em>lingua franca</em>,
but alternatives are getting stronger.</p>
<p>My background is in .NET ecosystem, so F# was the first of the two that I started
learning. At the same time, Scala seems to have more traction, largely due to
successful products and frameworks like Spark, Akka and Play. That&rsquo;s why I decided
to broaden my skill set and pick up some Scala knowledge. I&rsquo;ve started with
<a href="https://www.coursera.org/specializations/scala">Functional Programming in Scala Specialization</a> at Coursera.
While following the coursera, I&rsquo;m doing some notes about which language features
in Scala I find interesting, or vice versa - missing compared to F#.</p>
<p>In no particular order, I want to share my notes of Scala vs F# in this blog post.</p>
<p><em>Post updated based on comments by Mark Lewis and Giacomo Citi.</em></p>
<h2 id="implicit-parameters">Implicit Parameters</h2>
<p>A parameter of a function can be marked as implicit</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#cf222e">def</span> work<span style="color:#0550ae">(</span><span style="color:#cf222e">implicit</span> i<span style="color:#cf222e">:</span><span style="color:#cf222e">Int</span><span style="color:#0550ae">)</span> <span style="color:#cf222e">=</span> print<span style="color:#0550ae">(</span>i<span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>and that means you can call the function without specifying the value for this parameter
and the compiler will try to figure out that value you (according to
the extensive set of rules), e.g.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#cf222e">implicit</span> <span style="color:#cf222e">val</span> v <span style="color:#cf222e">=</span> <span style="color:#0550ae">2</span><span style="color:#0550ae">;</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// ... somewhere below
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>work <span style="color:#57606a">// prints &#39;2&#39;
</span></span></span></code></pre></div><p>I am not aware of any similar features in other language that I know, so I&rsquo;m pretty sure
I don&rsquo;t understand it well enough yet :) At the same time, I think implicits are
very characteristic for Scala: they are a powerful tool, which can be used in many
valid scenarios, or can be abused to shoot in one&rsquo;s feet.</p>
<h2 id="underscore-in-lambdas">Underscore In Lambdas</h2>
<p>Underscores <code>_</code> can be used to represent parameters in lambda expressions
without explicitly naming them:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span>employees<span style="color:#0550ae">.</span>sortBy<span style="color:#0550ae">(</span><span style="color:#cf222e">_</span><span style="color:#0550ae">.</span>dateOfBirth<span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>I think that&rsquo;s brilliant - very short and readable. Tuple values are represented
by <code>_1</code> and <code>_2</code>, so we can sort an array of tuples like</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span>profitByYear<span style="color:#0550ae">.</span>sortBy<span style="color:#0550ae">(</span><span style="color:#cf222e">_</span><span style="color:#0550ae">.</span>_1<span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>This looks a bit hairy and should probably be used only when the meaning is obvious.
(In the example above I&rsquo;m not sure if we sort by year or by profit&hellip;)</p>
<p>In F# underscore is used in a different sense - as &ldquo;something to ignore&rdquo;. That makes
sense, but I would love to have a shorter way of writing lambda in</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>empoyees <span style="color:#0550ae">|&gt;</span> <span style="color:#24292e">List</span><span style="color:#1f2328">.</span>sort <span style="color:#0550ae">(</span><span style="color:#cf222e">fun</span> e <span style="color:#0550ae">-&gt;</span> e<span style="color:#0550ae">.</span>dateOfBirth<span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>Any hint how?</p>
<h2 id="tail-recursion-mark">Tail-Recursion Mark</h2>
<p>Any recursive function in Scala can be marked with <code>@tailrec</code> annotation,
which would result in compilation error if the function is not tail-recursive.
This guarantees that you won&rsquo;t get a nasty stack overflow exception.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#0550ae">@tailrec</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">def</span> boom<span style="color:#0550ae">(</span>x<span style="color:#cf222e">:</span> <span style="color:#cf222e">Int</span><span style="color:#0550ae">)</span><span style="color:#cf222e">:</span> <span style="color:#cf222e">Int</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">if</span> <span style="color:#0550ae">(</span>x <span style="color:#0550ae">==</span> <span style="color:#0550ae">0</span><span style="color:#0550ae">)</span> <span style="color:#0550ae">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">else</span> boom<span style="color:#0550ae">(</span>x<span style="color:#0550ae">-</span><span style="color:#0550ae">1</span><span style="color:#0550ae">)</span> <span style="color:#0550ae">+</span> <span style="color:#0550ae">1</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">}</span>
</span></span></code></pre></div><p>The code above won&rsquo;t compile, as the recursion can&rsquo;t be optimized by the
compiler.</p>
<p>The feature sounds very reasonable, although I must admit that I have
never needed it in <em>my</em> F# code yet.</p>
<h2 id="call-by-name">Call By Name</h2>
<p>When you call a function in F#, the parameter values are evaluated before
the function body. This style of function substitution model is known as
Call by Value.</p>
<p>Same is the default in Scala. But there is an alternative: you can defer the
evaluation of parameters by marking them with an <code>=&gt;</code> symbol:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#cf222e">def</span> callByName<span style="color:#0550ae">(</span>x<span style="color:#cf222e">:</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">Int</span><span style="color:#0550ae">)</span> <span style="color:#cf222e">=</span> <span style="color:#0550ae">{</span>
</span></span><span style="display:flex;"><span>  println<span style="color:#0550ae">(</span><span style="color:#0a3069">&#34;x is &#34;</span> <span style="color:#0550ae">+</span> x<span style="color:#0550ae">)</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">}</span>
</span></span></code></pre></div><p>This style is known as Call by Name, and the evaluation is defered until the
parameter is actually used. So, if parameter is never used, its value
will never be evaluated. This code:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#cf222e">val</span> a<span style="color:#cf222e">:</span><span style="color:#cf222e">Option</span><span style="color:#0550ae">[</span><span style="color:#cf222e">Int</span><span style="color:#0550ae">]</span> <span style="color:#cf222e">=</span> <span style="color:#1f2328">Some</span><span style="color:#0550ae">(</span><span style="color:#0550ae">1</span><span style="color:#0550ae">)</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">val</span> b <span style="color:#cf222e">=</span> a getOrElse <span style="color:#0550ae">(</span><span style="color:#0550ae">2</span><span style="color:#0550ae">/</span><span style="color:#0550ae">0</span><span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>will set <code>b</code> to <code>1</code>, and no error will be thrown, even though we are dividing by zero
in function parameter. This is because the parameter of <code>getOrElse</code> is passed
by name.</p>
<p>The F# alternative <code>defaultArg</code> doesn&rsquo;t work this way, so the following code
will blow up:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span><span style="color:#cf222e">let</span> <span style="color:#953800">a</span> <span style="color:#0550ae">=</span> Some<span style="color:#0550ae">(</span>1<span style="color:#0550ae">)</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">let</span> <span style="color:#953800">b</span> <span style="color:#0550ae">=</span> defaultArg b <span style="color:#0550ae">(</span>2<span style="color:#0550ae">/</span>0<span style="color:#0550ae">)</span> <span style="color:#57606a">// boom
</span></span></span></code></pre></div><p>You can get deferred evaluation by passing a function:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span><span style="color:#cf222e">let</span> <span style="color:#953800">defaultArgFunc</span> o <span style="color:#0550ae">(</span>f<span style="color:#0550ae">:</span> <span style="color:#cf222e">unit</span> <span style="color:#0550ae">-&gt;</span> <span style="color:#cf222e">&#39;</span>a<span style="color:#0550ae">)</span> <span style="color:#0550ae">=</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">match</span> o <span style="color:#cf222e">with</span> <span style="color:#0550ae">|</span> Some v <span style="color:#0550ae">-&gt;</span> v <span style="color:#0550ae">|</span> None <span style="color:#0550ae">-&gt;</span> f<span style="color:#6a737d">()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">let</span> <span style="color:#953800">b2</span> <span style="color:#0550ae">=</span> defaultArgFunc a <span style="color:#0550ae">(</span><span style="color:#cf222e">fun</span> <span style="color:#6a737d">()</span> <span style="color:#0550ae">-&gt;</span> 2 <span style="color:#0550ae">/</span> 0<span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>That&rsquo;s essentially what happens in Scala too, but the Scala syntax is
arguably cleaner.</p>
<h2 id="lack-of-type-inference">Lack of Type Inference</h2>
<p>Slowly moving towards language design flavours, I&rsquo;ll start with Type Inference.
In Scala, type inference seems to be quite limited. Yes, you don&rsquo;t have to
explicitly define the types of local values or (most of the time) function return
types, but that&rsquo;s about it.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#cf222e">def</span> max <span style="color:#0550ae">(</span>a<span style="color:#cf222e">:</span> <span style="color:#cf222e">Int</span><span style="color:#0550ae">,</span> b<span style="color:#cf222e">:</span><span style="color:#cf222e">Int</span><span style="color:#0550ae">)</span> <span style="color:#cf222e">=</span> <span style="color:#cf222e">if</span> <span style="color:#0550ae">(</span>a <span style="color:#0550ae">&gt;</span> b<span style="color:#0550ae">)</span> a <span style="color:#cf222e">else</span> b
</span></span></code></pre></div><p>You have to specify the types of all input parameters, and that&rsquo;s quite a bummer
for people who are used to short type-less code of F# (or Haskell, OCaml and others,
for that matter).</p>
<p>Type inference in F# plays another significant role: automatic type generalization.
F# compiler would make types as generic as possible, based on implementation.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span><span style="color:#cf222e">let</span> <span style="color:#953800">max</span> a b <span style="color:#0550ae">=</span> <span style="color:#cf222e">if</span> a <span style="color:#0550ae">&gt;</span> b <span style="color:#cf222e">then</span> a <span style="color:#cf222e">else</span> b
</span></span></code></pre></div><p>The type of the function above is <code>'a -&gt; 'a -&gt; 'a</code>. Most people wouldn&rsquo;t make
it generic from get-go, but compiler helps in this case.</p>
<h2 id="functional-vs-object-oriented-style">Functional vs Object-Oriented Style</h2>
<p>Both F# and Scala are running on top of managed object-oriented virtual machines,
and at the same time both languages enable developers to write functional code.
Functional programming means operating immutable data structures in pure, free of
side effects operations. Without questioning all this, I find pure functional
Scala code to be written in much more object-oriented <em>style</em> compared to F#.</p>
<p>Classes and objects are ubiquitous in Scala: they are in each example given
in Martin Odersky&rsquo;s courses. Most F# examples refrain from classes unless needed.
F# official guidance is to never expose non-abstract classes from F# API!</p>
<p>Scala is really heavy about inheritance. They even introduced quasi-multiple inheritance:
traits. <code>Stream</code> inherits from <code>List</code>, and <code>Nothing</code> is a subtype of every other type,
to be used for some covariance tricks.</p>
<p>Operations are usually defined as class methods instead of separate functions. For
example the following Scala code</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span>word filter <span style="color:#0550ae">(</span>c <span style="color:#cf222e">=&gt;</span> c<span style="color:#0550ae">.</span>isLetter<span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>would filter a string to letters only. Why is <code>isLetter</code> defined as a method of
<code>Char</code>? I don&rsquo;t think it&rsquo;s essential for the type itself&hellip;</p>
<h2 id="usage-of-operators">Usage of Operators</h2>
<p>It looks like Scala culture inclines more towards the usage of different
operators, not only for arithmetic operations but also for different classes
from standard library and domain-specific code too. The basic ones are nice,
e.g. list concatenation:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#1f2328">List</span><span style="color:#0550ae">(</span><span style="color:#0550ae">1</span><span style="color:#0550ae">,</span> <span style="color:#0550ae">2</span><span style="color:#0550ae">)</span> <span style="color:#0550ae">++</span> <span style="color:#1f2328">List</span><span style="color:#0550ae">(</span><span style="color:#0550ae">3</span><span style="color:#0550ae">,</span> <span style="color:#0550ae">4</span><span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>but others look awkward to me, e.g. stream concatenation:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#1f2328">Stream</span><span style="color:#0550ae">(</span><span style="color:#0550ae">1</span><span style="color:#0550ae">)</span> <span style="color:#0550ae">#</span><span style="color:#cf222e">:</span><span style="color:#cf222e">::</span> <span style="color:#cf222e">Stream</span><span style="color:#0550ae">(</span><span style="color:#f6f8fa;background-color:#82071e">2</span><span style="color:#0550ae">)</span>
</span></span></code></pre></div><p>Akka streams sweetness:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span>in <span style="color:#0550ae">~&gt;</span> f1 <span style="color:#0550ae">~&gt;</span> bcast <span style="color:#0550ae">~&gt;</span> f2 <span style="color:#0550ae">~&gt;</span> merge <span style="color:#0550ae">~&gt;</span> f3 <span style="color:#0550ae">~&gt;</span> out
</span></span><span style="display:flex;"><span>            bcast <span style="color:#0550ae">~&gt;</span> f4 <span style="color:#0550ae">~&gt;</span> merge
</span></span></code></pre></div><p>This can go to quite an extreme, similar to what <code>scalaz</code> library does.</p>
<p>My default would be not to use operators unless you are sure that every
reader is able to instantly understand what it means.</p>
<h2 id="partial-application">Partial Application</h2>
<p>Not a huge difference, but F# functions are curried by default, while Scala
functions aren&rsquo;t. Thus, in F# partial application just works, all the time</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span><span style="color:#cf222e">let</span> <span style="color:#953800">add</span> a b <span style="color:#0550ae">=</span> a <span style="color:#0550ae">+</span> b
</span></span><span style="display:flex;"><span><span style="color:#cf222e">let</span> <span style="color:#953800">add3</span> <span style="color:#0550ae">=</span> add 3
</span></span><span style="display:flex;"><span><span style="color:#cf222e">let</span> <span style="color:#953800">sum</span> <span style="color:#0550ae">=</span> add3 5 <span style="color:#57606a">// 8
</span></span></span></code></pre></div><p>Scala function</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#cf222e">def</span> add <span style="color:#0550ae">(</span>a<span style="color:#cf222e">:</span> <span style="color:#cf222e">Int</span><span style="color:#0550ae">,</span> b<span style="color:#cf222e">:</span> <span style="color:#cf222e">Int</span><span style="color:#0550ae">)</span> <span style="color:#cf222e">=</span> a <span style="color:#0550ae">+</span> b
</span></span></code></pre></div><p>is not curried, but Underscore comes to the rescue</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#cf222e">val</span> add3<span style="color:#cf222e">:</span> <span style="color:#0550ae">(</span><span style="color:#cf222e">Int</span><span style="color:#0550ae">)</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">Int</span> <span style="color:#cf222e">=</span> add<span style="color:#0550ae">(</span><span style="color:#0550ae">3</span><span style="color:#0550ae">,</span> <span style="color:#cf222e">_</span><span style="color:#0550ae">)</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">val</span> sum <span style="color:#cf222e">=</span> add3<span style="color:#0550ae">(</span><span style="color:#0550ae">5</span><span style="color:#0550ae">)</span> <span style="color:#57606a">// 8
</span></span></span></code></pre></div><p>Note how I miss the type inference again.</p>
<p>The parameter order is very important in F#: the short syntax
will partially apply parameters from left to right. In Scala, you can
put <code>_</code> at any position, which gives you some flexibility.</p>
<h2 id="single-direction-dependency">Single-Direction Dependency</h2>
<p>F# compiler doesn&rsquo;t allow circular dependencies. You can&rsquo;t use a function
before you&rsquo;ve defined it. Here is what Expert F# book has to say about
that:</p>
<blockquote>
<p>Managing dependencies and circularity is one of the most difficult
and fundamental problems in good software design. The files in
an F# project are presented to the F# compiler in a compilation
order: constructs in the earlier files can&rsquo;t refer to declarations
in the later files. This is a mechanism to enforce layered design,
where software is carefully organized into layers, and where one
layer doesn&rsquo;t refer to other layers in a cyclic way (&hellip;) to help you
write code that is reusable and organized
into components that are, where possible, independent and not
combined into a &ldquo;tangle&rdquo; of &ldquo;spaghetti code&rdquo;.</p></blockquote>
<p>I think this is huge. F# forces you to structure your code in a way that
avoid mutual dependencies between different functions, types and modules.
This reduces the complexity and coupling, makes the developers avoid some
of the design pitfalls.</p>
<p>There&rsquo;s nothing like that in Scala. You are on your own.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Of course I did not cover all the distinctions, for instance active patterns,
type providers, computation expressions in F# and type classes, higher
kinded types, macros in Scala.</p>
<p>Obviously, both Scala and F# are very capable languages, and I am still
picking up the basics of them. While similar in many aspects, they made
several different choices along the language design trade-offs.</p>
<p>P.S. Overheard on Twitter:</p>
<blockquote>
<p>F# isn&rsquo;t a bad language, it&rsquo;s just attached to a bad platform&hellip;
The opposite of Scala actually.</p></blockquote>
<p>UPDATE: Thanks everyone for the great comments; please check out
<a href="https://redd.it/4whxhj">this reddit</a> and <a href="https://lobste.rs/s/ewhrpt">lobste.rs</a>
to see more of them.</p>
                </div>

                
                <div class="after-post-tags">
                    <ul class="tags">
                        
                        <li>
                            
                            
                            <a href="/tags/fsharp">F#</a>
                            
                        </li>
                        
                        <li>
                            
                            
                            <a href="/tags/scala">Scala</a>
                            
                        </li>
                        
                        <li>
                            
                            
                            <a href="/tags/functional-programming">Functional Programming</a>
                            
                        </li>
                        
                        <li>
                            
                            
                            <a href="/tags/coursera">Coursera</a>
                            
                        </li>
                        
                    </ul>
                </div>
                

                <hr/>

            </div>
            
        </div>
    </div>
    
    <div class="container">
    <div id="sharepane" class="row justify-content-center">
        <div class="col-md-2">

        </div>
        <div class="contact-intro col-md-2 text-center">
            <img class="profile-small d-inline-block mx-auto rounded-circle mb-3" height="100px"
                src="/images/author.jpg" alt="">
        </div>
        <div class="col-md-8">
            <section class="article-open_author">
                <div class="article-open_author_bio">
                    <h5 itemprop="author" itemscope="" itemtype="http://schema.org/Person">Author: Mikhail Shilkov</h5>
                    <p>
                        <div>Cloud and AI developer and researcher.</div><div>Principal engineer at Pulumi.</div>
                    </p>
                </div>
            </section>
            <a href="https://x.com/MikhailShilkov?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @MikhailShilkov</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
    </div>
</div>
<div class="container">
    <div id="comments" class="row justify-content-center mb-5">
        <div class="col-md-8">
            
            
            
        </div>
    </div>
</div>
</div>

        </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright Mikhail Shilkov - All rights reserved
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                
            </div>
        </div>
    </div>
</footer>


<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('code.language-diff span span').forEach(function(span) {
        const text = span.textContent;
        if (text.startsWith('-')) {
            span.style.backgroundColor = '#ffdddd';
            span.style.color = '#d73a49';
            span.style.display = 'block';
        } else if (text.startsWith('+')) {
            span.style.backgroundColor = '#ddffdd';
            span.style.color = '#28a745';
            span.style.display = 'block';
        }
    });
});
</script>











<script src="/js/bundle.min.js"></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-NL7F82LX48"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-NL7F82LX48');
        }
      </script>
    </body>
</html>
